{"version":3,"sources":["utils.js","../data sync /^/.//season_.*/.json$","../data sync /^/.//season_.*//items//passive_items/.json$","../data sync /^/.//season_.*//items//energy_items/.json$","../data sync /^/.//season_.*//mobs//summon_templates/.json$","data.js","simulator.js","test.js","App.js","index.js"],"names":["logIf","bool","toLog","console","log","formatDescriptionWithTier","description","tier","re","current","m","match","replace","eval","extend","iterable1","iterable2","index","push","all","iterable","condition","reduce","accumulator","currentValue","sum","key","total","i","pickRandom","weightKey","r","Math","floor","random","weight","Error","pickRandomWithinRange","lower","upper","deepCopyJson","obj","JSON","parse","stringify","_mutateTemplate","template","scale","getScaledTemplate","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","code","keys","Object","resolve","module","exports","MOBS_BY_SEASON","ITEMS_BY_SEASON","TEMPLATES_BY_SEASON","getItems","season","require","_preprocessCharacterItems","character","items","data","triggers","item","triggerTypes","triggerType","Battle","team1","team2","verbose","this","initTeams","_items","_templates","teams","allCharacters","getTeamOf","addCopyOfCharacterToTeam","teamIndex","toAdd","utils","name","originalName","copyNum","getCharacterAndName","team","pos","position","_findPositionWithinTeam","splice","amount","originalHp","target","source","changeHp","originalSpeed","max","originalAttackLow","originalAttackHigh","amountToGain","originalEnergy","kill","characterName","cost","allyTeamIndex","allyTeam","enemyTeam","dealDamage","changeSpeed","length","c","changeAttack","minHp","a","min","Infinity","changeEnergy","getTemplates","summon","phase","other","useItemAbility","activeName","active","activeTeamIndex","defendingTeam","_addEnergyTo","triggerPassive","triggerEnergy","checkAllHp","teamHasLost","mainAttackTargetName","damageAmount","buttontest","waves","dungeon","dungeonsForSeason","wave","j","currTeam","battle","tick","getTeam","simulator","App","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b280327c.chunk.js","sourcesContent":["export function logIf(bool, toLog) {\r\n  if (bool) {\r\n    console.log(toLog);\r\n  }\r\n}\r\n\r\nexport function formatDescriptionWithTier(description, tier) {\r\n  const re = /\\{([\\dt+\\-*]+)\\}/;\r\n  var current = description;\r\n  var m = current.match(re);\r\n  while (m != null) {\r\n    current = current.replace(\r\n        m[0],\r\n        eval(m[1].replace('t', tier))\r\n    );\r\n    m = current.match(re);\r\n  }\r\n  return current;\r\n}\r\n\r\nexport function extend(iterable1, iterable2) {\r\n  for (const index in iterable2) {\r\n    iterable1.push(iterable2[index]);\r\n  }\r\n}\r\n\r\nexport function all(iterable, condition) {\r\n  return iterable.reduce((accumulator, currentValue) => {\r\n    return accumulator && condition(currentValue);\r\n  }, true);\r\n}\r\n\r\nexport function sum(iterable, key=null) {\r\n  var total = 0;\r\n  for (const i in iterable) {\r\n    const currentValue = iterable[i];\r\n    if (typeof key === 'function') {\r\n      total += key(currentValue);\r\n      continue;\r\n    }\r\n    if (key == null) {\r\n      if (typeof currentValue === 'number') {\r\n        total += currentValue;\r\n        continue;\r\n      }\r\n      total++;\r\n      continue;\r\n    }\r\n    if (key in currentValue) {\r\n      total += currentValue[key];\r\n      continue;\r\n    }\r\n    total++;\r\n  }\r\n  return total;\r\n}\r\n\r\nexport function pickRandom(iterable, weightKey=null) {\r\n  const total = sum(iterable, weightKey);\r\n  var r = Math.floor(Math.random() * total);\r\n\r\n  for (const key in iterable) {\r\n    var weight = 1;\r\n    if (typeof weightKey === 'function') {\r\n      weight = weightKey(iterable[key]);\r\n    } else if (weightKey != null) {\r\n      weight = iterable[key][weightKey];\r\n    }\r\n    if (r < weight) {\r\n      return key;\r\n    }\r\n    r -= weight;\r\n  }\r\n\r\n  throw Error(\r\n      'Internal Error: Something went wrong while selecting random element from '\r\n      + iterable\r\n      + ' with weightKey '\r\n      + weightKey\r\n  );\r\n}\r\n\r\nexport function pickRandomWithinRange(lower, upper) {\r\n  return lower + Math.floor(Math.random() * (upper - lower + 1));\r\n}\r\n\r\nexport function deepCopyJson(obj) {\r\n  return JSON.parse(JSON.stringify(obj));\r\n}\r\n\r\nfunction _mutateTemplate(template, scale) {\r\n  if (typeof template != 'object') {\r\n    return template;\r\n  }\r\n\r\n  if ('Base' in template && 'Scaling' in template) {\r\n    return template['Base'] + template['Scaling'] * scale;\r\n  }\r\n\r\n  // recursive check\r\n  for (const key in template) {\r\n    template[key] = _mutateTemplate(template[key], scale);\r\n  }\r\n  return template;\r\n}\r\n\r\nexport function getScaledTemplate(template, scale) {\r\n  const obj = deepCopyJson(template);\r\n  return _mutateTemplate(obj, scale);\r\n}\r\n","var map = {\n\t\"./season_2/items/energy_items.json\": 5,\n\t\"./season_2/items/passive_items.json\": 6,\n\t\"./season_2/mobs/dungeon_0.json\": 16,\n\t\"./season_2/mobs/dungeon_1.json\": 17,\n\t\"./season_2/mobs/dungeon_2.json\": 18,\n\t\"./season_2/mobs/dungeon_3.json\": 19,\n\t\"./season_2/mobs/dungeon_4.json\": 20,\n\t\"./season_2/mobs/dungeon_5.json\": 21,\n\t\"./season_2/mobs/dungeon_6.json\": 22,\n\t\"./season_2/mobs/dungeon_7.json\": 23,\n\t\"./season_2/mobs/summon_templates.json\": 7\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 15;","var map = {\n\t\"./season_2/items/passive_items.json\": 6\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 24;","var map = {\n\t\"./season_2/items/energy_items.json\": 5\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 25;","var map = {\n\t\"./season_2/mobs/summon_templates.json\": 7\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 26;","const MOBS_BY_SEASON = {};\r\nconst ITEMS_BY_SEASON = {};\r\nconst TEMPLATES_BY_SEASON = {};\r\n\r\nexport function getDungeon(season, dungeon) {\r\n  if (!(season in MOBS_BY_SEASON)) {\r\n    MOBS_BY_SEASON[season] = {};\r\n  }\r\n  const dungeonsForSeason = MOBS_BY_SEASON[season];\r\n\r\n  if (!(dungeon in dungeonsForSeason)) {\r\n    const waves = require(\r\n        '../data/season_' + season + '/mobs/dungeon_' + dungeon + '.json'\r\n    );\r\n    for (const i in waves) {\r\n      const wave = waves[i];\r\n      for (const j in wave) {\r\n        const character = wave[j];\r\n        if ('_stats' in character) {\r\n          delete character['_stats'];\r\n        }\r\n      }\r\n    }\r\n    dungeonsForSeason[dungeon] = waves;\r\n  }\r\n\r\n  return dungeonsForSeason[dungeon];\r\n}\r\n\r\nexport function getItems(season) {\r\n  if (!(season in ITEMS_BY_SEASON)) {\r\n    ITEMS_BY_SEASON[season] = {\r\n      'Passive': require('../data/season_' + season + '/items/passive_items.json'),\r\n      'Energy': require('../data/season_' + season + '/items/energy_items.json')\r\n    };\r\n  }\r\n  return ITEMS_BY_SEASON[season];\r\n}\r\n\r\nexport function getTemplates(season) {\r\n  if (!(season in TEMPLATES_BY_SEASON)) {\r\n    TEMPLATES_BY_SEASON[season] = require('../data/season_' + season + '/mobs/summon_templates.json')\r\n  }\r\n  return TEMPLATES_BY_SEASON[season];\r\n}\r\n","import * as data from './data.js';\r\nimport * as utils from './utils.js';\r\n\r\nfunction _preprocessCharacterItems(character, season) {\r\n  if ('_triggers' in character) {\r\n    return;\r\n  }\r\n  const items = data.getItems(season);\r\n  const triggers = {};\r\n  for (const item in character['Items']) {\r\n    const tier = character['Items'][item];\r\n    if (item in items['Energy']) {\r\n      if ('Energy' in triggers) {\r\n        throw Error(\r\n            'Could not add ' +\r\n            item +\r\n            ' to ' +\r\n            JSON.stringify(character) +\r\n            ': Already has an energy item.'\r\n        );\r\n      }\r\n      triggers['Energy'] = {};\r\n      triggers['Energy'][item] = tier;\r\n      continue;\r\n    }\r\n\r\n    const triggerTypes = items['Passive'][item]['Triggers'];\r\n    for (const i in triggerTypes) {\r\n      const triggerType = triggerTypes[i];\r\n      if (!(triggerType in triggers)) {\r\n        triggers[triggerType] = {};\r\n      }\r\n      if (item in triggers[triggerType]) {\r\n        throw Error(\r\n            'Could not add ' +\r\n            item +\r\n            ' to ' +\r\n            JSON.stringify(character) +\r\n            ': Already has item.'\r\n        );\r\n      }\r\n      triggers[triggerType][item] = tier;\r\n    }\r\n  }\r\n  character['_triggers'] = triggers;\r\n  return character;\r\n}\r\n\r\nfunction _addEnergyTo(obj, amount) {\r\n  if ('Energy' in obj) {\r\n    obj['Energy'] += amount;\r\n    return;\r\n  }\r\n\r\n  for (const key in obj) {\r\n    obj[key]['Energy'] += amount;\r\n  }\r\n}\r\n\r\nfunction _findPositionWithinTeam(name, team) {\r\n  for (const position in team) {\r\n    const c = team[position];\r\n    if (c['Character'] === name) {\r\n      return position;\r\n    }\r\n  }\r\n  return -1;\r\n}\r\n\r\nexport function runDungeon(team, waves, season, verbose=false) {\r\n  utils.logIf(verbose, '\\n\\n\\nStarting dungeon');\r\n  var currTeam = team;\r\n  for (const i in team) {\r\n    _preprocessCharacterItems(team[i], season);\r\n  }\r\n  for (const index in waves) {\r\n    utils.logIf(verbose, 'loading wave ' + index);\r\n    const wave = waves[index];\r\n    for (const i in wave) {\r\n      _preprocessCharacterItems(wave[i], season);\r\n    }\r\n    utils.logIf(verbose, wave);\r\n    const battle = new Battle(currTeam, wave, season, verbose);\r\n    utils.logIf(verbose, utils.deepCopyJson(battle));\r\n    while (true) {\r\n      battle.tick();\r\n\r\n      utils.logIf(verbose, utils.deepCopyJson(battle));\r\n\r\n      if (battle.teamHasLost(0)) {\r\n        return 1;\r\n      }\r\n\r\n      if (battle.teamHasLost(1)) {\r\n        break;\r\n      }\r\n    }\r\n    currTeam = battle.getTeam(0);\r\n  }\r\n  return 0;\r\n}\r\n\r\nclass Battle {\r\n  constructor(team1, team2, season, verbose=false) {\r\n    this.verbose = verbose;\r\n    this.season = season;\r\n    this.initTeams(team1, team2);\r\n  }\r\n\r\n  getItems() {\r\n    if (!('_items' in this)) {\r\n      this._items = data.getItems(this.season);\r\n    }\r\n    return this._items;\r\n  }\r\n\r\n  getTemplates() {\r\n    if (!('_templates' in this)) {\r\n      this._templates = data.getTemplates(this.season);\r\n    }\r\n    return this._templates;\r\n  }\r\n\r\n  initTeams(team1, team2) {\r\n    this.teams = [[], []];\r\n    this.allCharacters = {};\r\n    this.getTeamOf = {};\r\n    for (const i in team1) {\r\n      this.addCopyOfCharacterToTeam(team1[i], 0);\r\n    }\r\n    for (const i in team2) {\r\n      this.addCopyOfCharacterToTeam(team2[i], 1);\r\n    }\r\n  }\r\n\r\n  addCopyOfCharacterToTeam(character, teamIndex) {\r\n    const toAdd = utils.deepCopyJson(character);\r\n    _preprocessCharacterItems(toAdd, this.season);\r\n    var name = toAdd['Character'];\r\n    const originalName = name;\r\n    var copyNum = 1;\r\n    while (name in this.allCharacters) {\r\n      copyNum++;\r\n      name = originalName + ' ' + copyNum;\r\n    }\r\n    toAdd['Character'] = name;\r\n    this.getTeamOf[name] = teamIndex;\r\n    this.allCharacters[name] = toAdd;\r\n    this.teams[teamIndex].push(toAdd);\r\n  }\r\n\r\n  getCharacterAndName(id) {\r\n    if (typeof id === 'string') {\r\n      return [this.allCharacters[id], id];\r\n    }\r\n    return [id, id['Character']];\r\n  }\r\n\r\n  kill(id) {\r\n    const [character, name] = this.getCharacterAndName(id);\r\n    utils.logIf(this.verbose, 'killing: ' + name);\r\n    const team = this.teams[this.getTeamOf[name]];\r\n    const pos = _findPositionWithinTeam(name, team);\r\n    if (pos < 0) {\r\n      throw Error('Internal Error: ' + name + ' is not in team ' + team);\r\n    }\r\n    delete this.allCharacters[name];\r\n    delete this.getTeamOf[name];\r\n    team.splice(pos, 1);\r\n  }\r\n\r\n  changeHp(id, amount) {\r\n    const [character, name] = this.getCharacterAndName(id);\r\n    const originalHp = character['HP'];\r\n    character['HP'] += amount;\r\n    utils.logIf(\r\n        this.verbose,\r\n        name + ' hp changed by ' + amount + ': ' + originalHp + ' -> ' + character['HP']\r\n    );\r\n  }\r\n\r\n  dealDamage(target, source, amount) {\r\n    this.changeHp(target, -amount);\r\n  }\r\n\r\n  changeSpeed(id, amount) {\r\n    const [character, name] = this.getCharacterAndName(id);\r\n    const originalSpeed = character['Speed'];\r\n    character['Speed'] = Math.max(character['Speed'] + amount, 1);\r\n    utils.logIf(\r\n        this.verbose,\r\n        name + ' speed changed by ' + amount + ': ' + originalSpeed + ' -> ' + character['Speed']\r\n    );\r\n  }\r\n\r\n  changeAttack(id, amount) {\r\n    const [character, name] = this.getCharacterAndName(id);\r\n    const originalAttackLow = character['Attack Low'];\r\n    const originalAttackHigh = character['Attack High'];\r\n    const amountToGain = Math.max(-originalAttackLow, amount);\r\n    character['Attack Low'] += amountToGain;\r\n    character['Attack High'] += amountToGain;\r\n    utils.logIf(\r\n        this.verbose,\r\n        name +\r\n        ' attack changed by ' +\r\n        amount +\r\n        ': ' +\r\n        [originalAttackLow, originalAttackHigh] +\r\n        ' -> ' +\r\n        [character['Attack Low'], character['Attack High']]\r\n    );\r\n  }\r\n\r\n  changeEnergy(id, amount) {\r\n    const [character, name] = this.getCharacterAndName(id);\r\n    const originalEnergy = character['Energy'];\r\n    character['Energy'] = Math.max(character['Energy'] + amount, 0);\r\n    utils.logIf(\r\n        this.verbose,\r\n        name + ' energy changed by ' + amount + ': ' + originalEnergy + ' -> ' + character['Energy']\r\n    );\r\n  }\r\n\r\n  checkAllHp() {\r\n    for (const name in this.allCharacters) {\r\n      const character = this.allCharacters[name];\r\n      if (character['HP'] <= 0) {\r\n        this.kill(name);\r\n      }\r\n      if (character['HP'] > character['HP Max']) {\r\n        character['HP'] = character['HP Max'];\r\n      }\r\n    }\r\n  }\r\n\r\n  triggerEnergy(id) {\r\n    const [character, characterName] = this.getCharacterAndName(id);\r\n    if (!('Energy' in character['_triggers'])) {\r\n      return;\r\n    }\r\n    const item = Object.keys(character['_triggers']['Energy'])[0];\r\n    const cost = this.getItems()['Energy'][item]['Cost'];\r\n    if (character['Energy'] < cost) {\r\n      return;\r\n    }\r\n    character['Energy'] -= cost;\r\n    const tier = character['Items'][item];\r\n    utils.logIf(this.verbose, 'Activating energy item ' + item);\r\n\r\n    const allyTeamIndex = this.getTeamOf[characterName];\r\n    const allyTeam = this.teams[allyTeamIndex];\r\n    const enemyTeam = this.teams[1 - allyTeamIndex];\r\n\r\n    switch (item) {\r\n      case 'Avalanche': {\r\n        for (var i = 0; i < 2; i++) {\r\n          const target = enemyTeam[utils.pickRandom(enemyTeam)];\r\n          this.dealDamage(\r\n              target,\r\n              character,\r\n              utils.pickRandomWithinRange(3 * tier, 5 * tier)\r\n          );\r\n          this.changeSpeed(\r\n              target['Character'],\r\n              -utils.pickRandomWithinRange(0, tier)\r\n          );\r\n        }\r\n        break;\r\n      }\r\n      case 'Boosting Bugle': {\r\n        if (allyTeam.length === 1) {\r\n          break;\r\n        }\r\n        for (var i = 0; i < 2; i++) {\r\n          const target = allyTeam[utils.pickRandom(\r\n              allyTeam,\r\n              (c) => {\r\n                if (c['Summoned'] || c['Character'] === characterName) {\r\n                  return 0;\r\n                }\r\n                return 1;\r\n              }\r\n          )];\r\n          this.changeHp(target, tier + tier);\r\n          this.changeAttack(target, tier);\r\n        }\r\n        break;\r\n      }\r\n      case 'Challenger Arrow': {\r\n        const target = enemyTeam[utils.pickRandom(enemyTeam)];\r\n        this.dealDamage(target, character, 10 * tier);\r\n        this.changeAttack(character, tier);\r\n        break;\r\n      }\r\n      case 'Energetic Ally': {\r\n        const minHp = allyTeam.reduce(\r\n          (a, c) => {\r\n            return Math.min(a, c['HP']);\r\n          },\r\n          Infinity\r\n        );\r\n        const target = allyTeam[utils.pickRandom(\r\n            allyTeam,\r\n            (c) => {\r\n              if (c['HP'] === minHp) {\r\n                return 1;\r\n              }\r\n              return 0;\r\n            }\r\n        )];\r\n        this.changeHp(target, 5 * tier);\r\n        this.changeEnergy(target, 20);\r\n        break;\r\n      }\r\n      case 'Explosion Powder': {\r\n        if (enemyTeam.length == 1) {\r\n          const target = enemyTeam[Object.keys(enemyTeam)[0]];\r\n          this.dealDamage(\r\n              target,\r\n              character,\r\n              utils.pickRandomWithinRange(10 * tier, 20 * tier)\r\n          );\r\n          break;\r\n        }\r\n        for (const i in enemyTeam) {\r\n          const target = enemyTeam[i];\r\n          this.dealDamage(\r\n            target,\r\n            character,\r\n            utils.pickRandomWithinRange(5 * tier, 10 * tier)\r\n          );\r\n        }\r\n        break;\r\n      }\r\n      case 'Imp Whistle': {\r\n        const template = this.getTemplates()[item];\r\n        const summon = utils.getScaledTemplate(template, tier);\r\n        _preprocessCharacterItems(summon, this.season);\r\n        this.addCopyOfCharacterToTeam(summon, allyTeamIndex);\r\n        break;\r\n      }\r\n      case 'Knight\\'s Lance': {\r\n        const target = enemyTeam[utils.pickRandom(enemyTeam)];\r\n        if (character['HP'] === character['HP Max']) {\r\n          this.dealDamage(\r\n              target,\r\n              character,\r\n              utils.pickRandomWithinRange(10 * tier, 14 * tier)\r\n          );\r\n          break;\r\n        }\r\n        const amount = utils.pickRandomWithinRange(5 * tier, 7 * tier);\r\n        this.dealDamage(target, character, amount);\r\n        this.changeHp(character, amount);\r\n        break;\r\n      }\r\n      default: {\r\n        throw Error('Energy item ' + item + ' unknown');\r\n      }\r\n    }\r\n  }\r\n\r\n  useItemAbility(item, phase, character, other=null) {\r\n    switch (phase) {\r\n      case 'BattleStart': {\r\n        break;\r\n      }\r\n      case 'TurnStart': {\r\n        break;\r\n      }\r\n      case 'Target': {\r\n        break;\r\n      }\r\n      case 'Block': {\r\n        break;\r\n      }\r\n      case 'PreDamage': {\r\n        break;\r\n      }\r\n      case 'EnemyDamage': {\r\n        break;\r\n      }\r\n      case 'PostDamage': {\r\n        break;\r\n      }\r\n      case 'Death': {\r\n        break;\r\n      }\r\n      default: {\r\n        throw Error('Phase ' + phase + ' unknown');\r\n      }\r\n    }\r\n  }\r\n\r\n  triggerPassive(phase, character, other=null) {\r\n    if (!(phase in character['_triggers'])) {\r\n      return;\r\n    }\r\n\r\n    for (const item in character['_triggers']) {\r\n      this.useItemAbility(item, phase, character, other);\r\n    }\r\n  }\r\n\r\n  tick() {\r\n    const activeName = utils.pickRandom(this.allCharacters, 'Speed');\r\n    utils.logIf(this.verbose, '\\n' + activeName + '\\'s turn:');\r\n    const active = this.allCharacters[activeName];\r\n    const activeTeamIndex = this.getTeamOf[activeName];\r\n    const defendingTeam = this.teams[1 - activeTeamIndex];\r\n\r\n    _addEnergyTo(this.allCharacters, 2);\r\n\r\n    this.triggerPassive('TurnStart', active);\r\n    this.triggerEnergy(active);\r\n\r\n    this.checkAllHp();\r\n    for (const i in this.teams) {\r\n      if (this.teamHasLost(i)) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    const mainAttackTargetIndex = utils.pickRandom(defendingTeam);\r\n    const mainTarget = defendingTeam[mainAttackTargetIndex];\r\n    const mainAttackTargetName = mainTarget['Character'];\r\n    utils.logIf(this.verbose, 'main target: ' + mainAttackTargetName);\r\n\r\n    var damageAmount = utils.pickRandomWithinRange(\r\n        active['Attack Low'],\r\n        active['Attack High']\r\n    );\r\n    utils.logIf(this.verbose, 'main attack damage: ' + damageAmount);\r\n\r\n    this.dealDamage(mainAttackTargetName, active, damageAmount);\r\n    this.checkAllHp();\r\n  }\r\n\r\n  teamHasLost(index) {\r\n    return utils.all(\r\n        this.teams[index],\r\n        (character) => {\r\n          return character['HP'] <= 0;\r\n        }\r\n    );\r\n  }\r\n\r\n  getTeam(index) {\r\n    return this.teams[index];\r\n  }\r\n}\r\n","import * as data from './data.js';\r\nimport * as simulator from './simulator.js';\r\n\r\nexport function buttontest() {\r\n  const season = 2;\r\n  const dungeon = 0;\r\n  const waves = data.getDungeon(season, dungeon);\r\n  console.log(waves);\r\n  const players = [\r\n    {\r\n      \"Character\": \"Zethorix\",\r\n      \"HP\": 100,\r\n      \"HP Max\": 100,\r\n      \"Speed\": 10,\r\n      \"Attack Low\": 0,\r\n      \"Attack High\": 0,\r\n      \"Energy\": 1000,\r\n      \"Summoned\": false,\r\n      \"Items\": {\r\n        'Avalanche': 1\r\n      }\r\n    },\r\n    {\r\n      \"Character\": \"Zethorix\",\r\n      \"HP\": 100,\r\n      \"HP Max\": 100,\r\n      \"Speed\": 10,\r\n      \"Attack Low\": 0,\r\n      \"Attack High\": 0,\r\n      \"Energy\": 1000,\r\n      \"Summoned\": false,\r\n      \"Items\": {\r\n        'Boosting Bugle': 1\r\n      }\r\n    },\r\n    {\r\n      \"Character\": \"Zethorix\",\r\n      \"HP\": 100,\r\n      \"HP Max\": 100,\r\n      \"Speed\": 10,\r\n      \"Attack Low\": 0,\r\n      \"Attack High\": 0,\r\n      \"Energy\": 1000,\r\n      \"Summoned\": false,\r\n      \"Items\": {\r\n        'Challenger Arrow': 1\r\n      }\r\n    },\r\n    {\r\n      \"Character\": \"Zethorix\",\r\n      \"HP\": 100,\r\n      \"HP Max\": 100,\r\n      \"Speed\": 10,\r\n      \"Attack Low\": 0,\r\n      \"Attack High\": 0,\r\n      \"Energy\": 1000,\r\n      \"Summoned\": false,\r\n      \"Items\": {\r\n        'Energetic Ally': 1\r\n      }\r\n    },\r\n    {\r\n      \"Character\": \"Zethorix\",\r\n      \"HP\": 100,\r\n      \"HP Max\": 100,\r\n      \"Speed\": 10,\r\n      \"Attack Low\": 0,\r\n      \"Attack High\": 0,\r\n      \"Energy\": 1000,\r\n      \"Summoned\": false,\r\n      \"Items\": {\r\n        'Explosion Powder': 1\r\n      }\r\n    },\r\n    {\r\n      \"Character\": \"Zethorix\",\r\n      \"HP\": 100,\r\n      \"HP Max\": 100,\r\n      \"Speed\": 10,\r\n      \"Attack Low\": 0,\r\n      \"Attack High\": 0,\r\n      \"Energy\": 1000,\r\n      \"Summoned\": false,\r\n      \"Items\": {\r\n        'Imp Whistle': 1\r\n      }\r\n    },\r\n    {\r\n      \"Character\": \"Zethorix\",\r\n      \"HP\": 100,\r\n      \"HP Max\": 100,\r\n      \"Speed\": 10,\r\n      \"Attack Low\": 0,\r\n      \"Attack High\": 0,\r\n      \"Energy\": 1000,\r\n      \"Summoned\": false,\r\n      \"Items\": {\r\n        'Knight\\'s Lance': 1\r\n      }\r\n    }\r\n  ];\r\n  console.log('winning team: ' + simulator.runDungeon(players, waves, season, true));\r\n}\r\n","import {buttontest} from \"./test.js\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      Hello World!\r\n      <br />\r\n      <button onClick={buttontest}>\r\n        Run Test\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}