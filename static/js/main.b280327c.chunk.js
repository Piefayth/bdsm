(this["webpackJsonpboxbox-dungeon-simulator"]=this["webpackJsonpboxbox-dungeon-simulator"]||[]).push([[0],[function(module,__webpack_exports__,__webpack_require__){"use strict";function logIf(e,t){e&&console.log(t)}function formatDescriptionWithTier(description,tier){for(var re=/\{([\dt+\-*]+)\}/,current=description,m=current.match(re);null!=m;)current=current.replace(m[0],eval(m[1].replace("t",tier))),m=current.match(re);return current}function extend(e,t){for(var a in t)e.push(t[a])}function all(e,t){return e.reduce((function(e,a){return e&&t(a)}),!0)}function sum(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=0;for(var r in e){var n=e[r];if("function"!==typeof t)if(null!=t)t in n?a+=n[t]:a++;else{if("number"===typeof n){a+=n;continue}a++}else a+=t(n)}return a}function pickRandom(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=sum(e,t),r=Math.floor(Math.random()*a);for(var n in e){var o=1;if("function"===typeof t?o=t(e[n]):null!=t&&(o=e[n][t]),r<o)return n;r-=o}throw Error("Internal Error: Something went wrong while selecting random element from "+e+" with weightKey "+t)}function pickRandomWithinRange(e,t){return e+Math.floor(Math.random()*(t-e+1))}function deepCopyJson(e){return JSON.parse(JSON.stringify(e))}function _mutateTemplate(e,t){if("object"!=typeof e)return e;if("Base"in e&&"Scaling"in e)return e.Base+e.Scaling*t;for(var a in e)e[a]=_mutateTemplate(e[a],t);return e}function getScaledTemplate(e,t){return _mutateTemplate(deepCopyJson(e),t)}__webpack_require__.d(__webpack_exports__,"d",(function(){return logIf})),__webpack_require__.d(__webpack_exports__,"a",(function(){return all})),__webpack_require__.d(__webpack_exports__,"e",(function(){return pickRandom})),__webpack_require__.d(__webpack_exports__,"f",(function(){return pickRandomWithinRange})),__webpack_require__.d(__webpack_exports__,"b",(function(){return deepCopyJson})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getScaledTemplate}))},,,,,function(e){e.exports=JSON.parse('{"Avalanche":{"Description":"Spend 40 energy. Deal {3*t}-{5*t} damage to a random enemy twice. They lose 0-{t} speed.","Cost":40},"Boosting Bugle":{"Description":"Spend 55 energy: heal an ally for {2*t}HP. They gain {t} attack. Repeat this once. This cannot target yourself or summons.","Cost":55},"Challenger Arrow":{"Description":"Spend 55 energy: Deal {10*t} damage to a random enemy. Gain +{t} attack.","Cost":55},"Energetic Ally":{"Description":"Spend 50 energy: The lowest non-summoned ally heals for {5*t}HP and gains 20 energy.","Cost":50},"Explosion Powder":{"Description":"Spend 60 energy: Deal {5*t}-{10*t} damage to all enemies. If there is only one enemy, this deals double damage.","Cost":60},"Imp Whistle":{"Description":"Spend 45 energy: summon a small imp companion. {t}hp {3*t}-{4*t}atk {11+t} spd","Cost":45},"Knight\'s Lance":{"Description":"Spend 40 energy. Deal {5*t}-{7*t} damage to a random enemy and heal the same amount. If you are at full health, this deals double damage.","Cost":40}}')},function(e){e.exports=JSON.parse('{"Big Club":{"Obtainable":true,"Description":"Your attacks have a {11*t}% chance to deal 150% bonus damage.","Triggers":["PreDamage"]},"Celine\'s Chumby Chicken":{"Obtainable":true,"Description":"The first time you attack each wave, summon a chumby chicken. {t}HP, Heals all allies for {2*t}HP when it dies.","Triggers":["PostDamage"]},"Chicken Dinner":{"Obtainable":false,"Description":"When you die on an opponent\'s turn, your allies all eat you (FLUSH). They heal for {2*t} HP. This item cannot be obtained, so its exact description is unknown.","Triggers":["Death"]},"Cleansing Flames":{"Obtainable":true,"Description":"After you attack, you have a 50% chance to heal all allies for {t} HP.","Triggers":["PostDamage"]},"Draining Dagger":{"Obtainable":true,"Description":"Your attacks decrease the target\'s attack by {t}. {5*t}% chance to drain 1 energy from the target.","Triggers":["PostDamage"]},"Fire Sword":{"Obtainable":true,"Description":"When you attack, you have a 30% chance to increase your attack by 1. Repeat this {t-1} additional times.","Triggers":["PostDamage"]},"Freezeman":{"Obtainable":true,"Description":"Gain {t} speed.","Triggers":["BattleStart"]},"Halberd":{"Obtainable":true,"Description":"You have +{2*t} attack.","Triggers":["BattleStart"]},"Healing Pendant":{"Obtainable":true,"Description":"Your attacks have a 50% chance to heal yourself for {5*t} HP. {7+3*t}% Chance to take the hit when your teammate is attacked, if you\'re feeling brave.","Triggers":["Block","PostDamage"]},"Love Letter":{"Obtainable":true,"Description":"After you attack, you heal an ally for {2*t} and they gain {t} energy. This cannot target yourself or summons.","Triggers":["PostDamage"]},"Machete":{"Obtainable":true,"Description":"Your attacks deal {3*t}-{4*t} damage to an additional enemy.","Triggers":["PostDamage"]},"Magic Parasol":{"Obtainable":true,"Description":"When you are attacked, you have a {5+5*t}% chance to fully block the attack. {7+3*t}% Chance to take the hit when your teammate is attacked, if you\'re feeling brave.","Triggers":["Block","EnemyDamage"]},"Martyr Armor":{"Obtainable":true,"Description":"When you take damage on an opponent\u2019s turn, you have a 66% chance to heal a random ally {2*t}HP and give them {t} Energy. This cannot target yourself or summons.","Triggers":["EnemyDamage"]},"Pet Imp":{"Obtainable":true,"Description":"At the start of the dungeon, summon a big imp companion. {10*t}hp {3*t}-{4*t}atk. Spd: {11+t}","Triggers":["BattleStart"]},"Poison Dagger":{"Obtainable":true,"Description":"Your attacks add {t} poison stack to the target. A poisoned enemy takes 1 damage after they attack for each poison stack they have.","Triggers":["PostDamage"]},"Rock Companion":{"Obtainable":true,"Description":"At the start of the dungeon, summon a brave Rock Companion. {15*t}hp {5*t}atk 2spd","Triggers":["BattleStart"]},"Rough Skin":{"Obtainable":false,"Description":"50% chance to reduce an attack by {2*t} and deal {2*t} damage to the attacker.","Triggers":["EnemyDamage"]},"Seeking Missiles":{"Obtainable":true,"Description":"Your attacks always target the lowest HP enemy. Deal {t} bonus damage per 20% HP they are missing","Triggers":["Target","PreDamage"]},"Survival Kit":{"Obtainable":true,"Description":"Increase Max HP by {20*t}. {7+3*t}% Chance to take a hit when your teammate is attacked if you\'re feeling brave.","Triggers":["BattleStart","Block"]},"Thorns":{"Obtainable":true,"Description":"When you attack, unleash a thorn at each enemy. Each thorn deals {t} damage and gives you a 25% chance to gain {t} energy. You can only gain energy from this effect once per turn.","Triggers":["TurnStart"]},"Whirlwind Axe":{"Obtainable":true,"Description":"When you attack, you have a {11*t}% chance of making your attack deal splash damage to all other enemies.","Triggers":["PostDamage"]}}')},function(e){e.exports=JSON.parse('{"Celine\'s Chumby Chicken":{"Character":"Celine\'s Chumby Chicken","HP":{"Base":0,"Scaling":1},"HP Max":{"Base":0,"Scaling":1},"Speed":1,"Attack Low":0,"Attack High":1,"Energy":0,"Summoned":true,"Items":{"Chicken Dinner":{"Base":0,"Scaling":1}}},"Imp Whistle":{"Character":"Small Imp Companion","HP":{"Base":0,"Scaling":1},"HP Max":{"Base":0,"Scaling":1},"Speed":{"Base":11,"Scaling":1},"Attack Low":{"Base":0,"Scaling":3},"Attack High":{"Base":0,"Scaling":4},"Energy":0,"Summoned":true,"Items":{}},"Pet Imp":{"Character":"Big Imp Companion","HP":{"Base":0,"Scaling":10},"HP Max":{"Base":0,"Scaling":10},"Speed":{"Base":11,"Scaling":1},"Attack Low":{"Base":0,"Scaling":3},"Attack High":{"Base":0,"Scaling":4},"Energy":0,"Summoned":true,"Items":{}},"Rock Companion":{"Character":"Rock Companion","HP":{"Base":0,"Scaling":15},"HP Max":{"Base":0,"Scaling":15},"Speed":2,"Attack Low":{"Base":0,"Scaling":5},"Attack High":{"Base":0,"Scaling":5},"Energy":0,"Summoned":true,"Items":{"Healing Pendant":{"Base":0,"Scaling":1}}}}')},,,,,,,,function(e,t,a){var r={"./season_2/items/energy_items.json":5,"./season_2/items/passive_items.json":6,"./season_2/mobs/dungeon_0.json":16,"./season_2/mobs/dungeon_1.json":17,"./season_2/mobs/dungeon_2.json":18,"./season_2/mobs/dungeon_3.json":19,"./season_2/mobs/dungeon_4.json":20,"./season_2/mobs/dungeon_5.json":21,"./season_2/mobs/dungeon_6.json":22,"./season_2/mobs/dungeon_7.json":23,"./season_2/mobs/summon_templates.json":7};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=o,e.exports=n,n.id=15},function(e){e.exports=JSON.parse('[[{"Character":"Stickbaby 1","HP":10,"HP Max":10,"Speed":6,"Attack Low":5,"Attack High":5,"Energy":0,"Summoned":false,"Items":{}},{"Character":"Stickbaby 2","HP":10,"HP Max":10,"Speed":6,"Attack Low":5,"Attack High":5,"Energy":0,"Summoned":false,"Items":{}},{"Character":"Stickbaby 3","HP":10,"HP Max":10,"Speed":6,"Attack Low":5,"Attack High":5,"Energy":0,"Summoned":false,"Items":{}},{"Character":"Stickbaby 4","HP":10,"HP Max":10,"Speed":6,"Attack Low":5,"Attack High":5,"Energy":0,"Summoned":false,"Items":{}}],[{"Character":"Stickman","HP":25,"HP Max":25,"Speed":8,"Attack Low":6,"Attack High":10,"Energy":0,"Summoned":false,"Items":{}},{"Character":"Stickwoman","HP":20,"HP Max":20,"Speed":10,"Attack Low":10,"Attack High":12,"Energy":0,"Summoned":false,"Items":{}}],[{"Character":"Big Stick","HP":50,"HP Max":50,"Speed":10,"Attack Low":12,"Attack High":12,"Energy":0,"Summoned":false,"Items":{}}]]')},function(e){e.exports=JSON.parse('[[{"Character":"Blob","HP":10,"HP Max":10,"Speed":10,"Attack Low":2,"Attack High":2,"Energy":0,"Summoned":false,"Items":{}},{"Character":"Blobther","HP":15,"HP Max":15,"Speed":10,"Attack Low":2,"Attack High":4,"Energy":0,"Summoned":false,"Items":{}},{"Character":"Blob\'s Mom","HP":20,"HP Max":20,"Speed":10,"Attack Low":3,"Attack High":3,"Energy":0,"Summoned":false,"Items":{}},{"Character":"Blob\'s Dad","HP":20,"HP Max":20,"Speed":10,"Attack Low":3,"Attack High":4,"Energy":0,"Summoned":false,"Items":{}},{"Character":"Blob\'s Grandpa","HP":30,"HP Max":30,"Speed":10,"Attack Low":8,"Attack High":16,"Energy":0,"Summoned":false,"Items":{}}],[{"Character":"Bandit","HP":15,"HP Max":15,"Speed":12,"Attack Low":6,"Attack High":10,"Energy":0,"Summoned":false,"Items":{}},{"Character":"Bandit\'s Hot GF","HP":20,"HP Max":20,"Speed":12,"Attack Low":8,"Attack High":10,"Energy":0,"Summoned":false,"Items":{}},{"Character":"Bandad","HP":25,"HP Max":25,"Speed":12,"Attack Low":8,"Attack High":12,"Energy":0,"Summoned":false,"Items":{}},{"Character":"Bandit\'s Twin","HP":15,"HP Max":15,"Speed":12,"Attack Low":6,"Attack High":10,"Energy":0,"Summoned":false,"Items":{}}],[{"Character":"Albert","HP":53,"HP Max":100,"Speed":10,"Attack Low":6,"Attack High":15,"Energy":0,"Summoned":false,"Items":{"Fire Sword":1},"_stats":{"_triggeredFireSword":8,"_attacks":30}},{"Character":"Annie","HP":47,"HP Max":100,"Speed":10,"Attack Low":3,"Attack High":12,"Energy":56,"Summoned":false,"Items":{"Love Letter":1}},{"Character":"Kelvinzorz","HP":43,"HP Max":100,"Speed":10,"Attack Low":3,"Attack High":12,"Energy":0,"Summoned":false,"Items":{"Poison Dagger":1}}]]')},function(e){e.exports=JSON.parse('[[{"Character":"Pig","HP":35,"HP Max":35,"Speed":12,"Attack Low":6,"Attack High":8,"Energy":0,"Items":{}},{"Character":"Ribbon Pig","HP":35,"HP Max":35,"Speed":12,"Attack Low":6,"Attack High":8,"Energy":0,"Items":{}},{"Character":"Boar","HP":35,"HP Max":35,"Speed":12,"Attack Low":6,"Attack High":8,"Energy":0,"Items":{}},{"Character":"Fire Boar","HP":50,"HP Max":50,"Speed":15,"Attack Low":8,"Attack High":12,"Energy":0,"Items":{}}],[{"Character":"Horny Mushroom","HP":60,"HP Max":60,"Speed":10,"Attack Low":15,"Attack High":15,"Energy":0,"Items":{}},{"Character":"Orange Mushroom","HP":45,"HP Max":45,"Speed":12,"Attack Low":8,"Attack High":16,"Energy":0,"Items":{}},{"Character":"Green Mushroom","HP":45,"HP Max":45,"Speed":10,"Attack Low":10,"Attack High":15,"Energy":0,"Items":{"Poison Dagger":1}}],[{"Character":"Red Snail","HP":20,"HP Max":20,"Speed":3,"Attack Low":1,"Attack High":2,"Energy":0,"Items":{"Rough Skin":1}},{"Character":"A Very Large Snail","HP":150,"HP Max":150,"Speed":7,"Attack Low":20,"Attack High":40,"Energy":0,"Items":{"Rough Skin":3}},{"Character":"Blue Snail","HP":20,"HP Max":20,"Speed":3,"Attack Low":1,"Attack High":2,"Energy":0,"Items":{"Rough Skin":1}}]]')},function(e){e.exports=JSON.parse('[[{"Character":"Kappa","HP":100,"HP Max":100,"Speed":16,"Attack Low":10,"Attack High":20,"Energy":20,"Summoned":false,"Items":{"Knight\'s Lance":2,"Love Letter":2}},{"Character":"KappaPride","HP":80,"HP Max":80,"Speed":16,"Attack Low":8,"Attack High":14,"Energy":10,"Summoned":false,"Items":{"Knight\'s Lance":2,"Love Letter":2}}],[{"Character":"PepeHands","HP":50,"HP Max":50,"Speed":12,"Attack Low":8,"Attack High":12,"Energy":0,"Summoned":false,"Items":{"Cleansing Flames":1}},{"Character":"Pepega","HP":75,"HP Max":75,"Speed":10,"Attack Low":5,"Attack High":10,"Energy":0,"Summoned":false,"Items":{"Poison Dagger":2}},{"Character":"MonkaS","HP":75,"HP Max":75,"Speed":11,"Attack Low":1,"Attack High":30,"Energy":0,"Summoned":false,"Items":{"Big Club":5},"_stats":{"_triggeredBigClub":"10","_attacks":"16"}},{"Character":"Rock Companion","HP":30,"HP Max":30,"Speed":2,"Attack Low":10,"Attack High":10,"Energy":0,"Summoned":true,"Items":{"Healing Pendant":2}}],[{"Character":"PogChamp","HP":150,"HP Max":150,"Speed":15,"Attack Low":10,"Attack High":30,"Energy":0,"Summoned":false,"Items":{"Whirlwind Axe":3},"_stats":{"_triggeredWhirlwindAxe":7,"_attacks":21}},{"Character":"Pog","HP":125,"HP Max":125,"Speed":15,"Attack Low":10,"Attack High":15,"Energy":0,"Summoned":false,"Items":{}}]]')},function(e){e.exports=JSON.parse('[[{"Character":"G Fuel","HP":80,"HP Max":80,"Speed":20,"Attack Low":0,"Attack High":30,"Energy":0,"Summoned":false,"Items":{"Imp Whistle":2}},{"Character":"Boba","HP":125,"HP Max":125,"Speed":14,"Attack Low":15,"Attack High":25,"Energy":0,"Summoned":false,"Items":{"Avalanche":1}},{"Character":"A Hearty Glass of Water","HP":100,"HP Max":100,"Speed":12,"Attack Low":10,"Attack High":20,"Energy":0,"Summoned":false,"Items":{"Love Letter":4}}],[{"Character":"Mozzarella Sticks","HP":100,"HP Max":100,"Speed":14,"Attack Low":6,"Attack High":12,"Energy":0,"Summoned":false,"Items":{"Poison Dagger":3}},{"Character":"Miso Soup","HP":50,"HP Max":50,"Speed":13,"Attack Low":5,"Attack High":15,"Energy":0,"Summoned":false,"Items":{}},{"Character":"Salad","HP":125,"HP Max":125,"Speed":12,"Attack Low":5,"Attack High":14,"Energy":0,"Summoned":false,"Items":{"Healing Pendant":3},"_stats":{"_triggeredBlock":9,"_availableBlocks":46}},{"Character":"Takoyaki","HP":75,"HP Max":75,"Speed":12,"Attack Low":5,"Attack High":10,"Energy":0,"Summoned":false,"Items":{"Poison Dagger":3}}],[{"Character":"Sushi Boat","HP":350,"HP Max":350,"Speed":30,"Attack Low":10,"Attack High":30,"Energy":0,"Summoned":false,"Items":{"Machete":2}}]]')},function(e){e.exports=JSON.parse('[[{"Character":"Cidd The Helpful","HP":2,"HP Max":2,"Speed":100,"Attack Low":4,"Attack High":4,"Energy":0,"Summoned":false,"Items":{"Seeking Missiles":1,"Fire Sword":3},"_stats":{"_maxFireSwordTriggers":3,"_triggeredFireSword":52,"_attacks":54}},{"Character":"Treebeast","HP":120,"HP Max":120,"Speed":15,"Attack Low":10,"Attack High":15,"Energy":0,"Summoned":false,"Items":{}},{"Character":"Ivan, The Drunken Brawler","HP":140,"HP Max":140,"Speed":16,"Attack Low":15,"Attack High":20,"Energy":0,"Summoned":false,"Items":{"Whirlwind Axe":3},"_stats":{"_triggeredWhirlwindAxe":7,"_attacks":19}},{"Character":"Brittney, Beach Princess","HP":160,"HP Max":160,"Speed":17,"Attack Low":20,"Attack High":25,"Energy":0,"Summoned":false,"Items":{}}],[{"Character":"The Wandering Fisherman","HP":125,"HP Max":125,"Speed":8,"Attack Low":25,"Attack High":25,"Energy":0,"Summoned":false,"Items":{}},{"Character":"The Great Forest Seer","HP":150,"HP Max":150,"Speed":17,"Attack Low":12,"Attack High":22,"Energy":0,"Summoned":false,"Items":{"Avalanche":3}},{"Character":"The Masked Samurai","HP":175,"HP Max":175,"Speed":21,"Attack Low":12,"Attack High":16,"Energy":0,"Summoned":false,"Items":{"Machete":4}}],[{"Character":"Dread Knight","HP":175,"HP Max":175,"Speed":9,"Attack Low":30,"Attack High":50,"Energy":0,"Summoned":false,"Items":{}},{"Character":"Betty Clicker","HP":75,"HP Max":75,"Speed":15,"Attack Low":5,"Attack High":5,"Energy":200,"Summoned":false,"Items":{"Boosting Bugle":3}},{"Character":"King Midas","HP":150,"HP Max":150,"Speed":11,"Attack Low":10,"Attack High":15,"Energy":0,"Summoned":false,"Items":{"Healing Pendant":1}},{"Character":"Leon","HP":100,"HP Max":100,"Speed":25,"Attack Low":5,"Attack High":15,"Energy":0,"Summoned":false,"Items":{"Seeking Missiles":3}},{"Character":"Amenhotep","HP":40,"HP Max":40,"Speed":13,"Attack Low":0,"Attack High":10,"Energy":0,"Summoned":false,"Items":{}}]]')},function(e){e.exports=JSON.parse('[[{"Character":"Tenya Iida","HP":175,"HP Max":175,"Speed":25,"Attack Low":5,"Attack High":15,"Energy":999,"Summoned":false,"Items":{"Boosting Bugle":1}},{"Character":"Shoto Todoroki","HP":200,"HP Max":200,"Speed":12,"Attack Low":0,"Attack High":40,"Energy":0,"Summoned":false,"Items":{"Avalanche":3,"Fire Sword":5},"_stats":{"_maxFireSwordTriggers":4,"_triggeredFireSword":30,"_attacks":20}},{"Character":"Tsuyu Asui","HP":150,"HP Max":150,"Speed":18,"Attack Low":5,"Attack High":25,"Energy":0,"Summoned":false,"Items":{"Draining Dagger":1,"Rough Skin":2}}],[{"Character":"Fat Gum","HP":300,"HP Max":300,"Speed":6,"Attack Low":50,"Attack High":100,"Energy":0,"Summoned":false,"Items":{"Martyr Armor":3}},{"Character":"Hawks","HP":200,"HP Max":200,"Speed":35,"Attack Low":1,"Attack High":10,"Energy":0,"Summoned":false,"Items":{"Challenger Arrow":2,"Thorns":3}}],[{"Character":"All-Might","HP":200,"HP Max":200,"Speed":15,"Attack Low":35,"Attack High":55,"Energy":0,"Summoned":false,"Items":{}},{"Character":"Izuku Midoriya","HP":200,"HP Max":200,"Speed":25,"Attack Low":20,"Attack High":35,"Energy":0,"Summoned":false,"Items":{}}]]')},function(e){e.exports=JSON.parse('[[{"Character":"Boosette","HP":200,"HP Max":200,"Speed":15,"Attack Low":33,"Attack High":66,"Energy":0,"Summoned":false,"Items":{"Seeking Missiles":1}},{"Character":"Bowsette","HP":140,"HP Max":140,"Speed":15,"Attack Low":33,"Attack High":66,"Energy":0,"Summoned":false,"Items":{"Rough Skin":3}}],[{"Character":"Emilia","HP":175,"HP Max":175,"Speed":15,"Attack Low":15,"Attack High":25,"Energy":55,"Summoned":false,"Items":{"Challenger Arrow":5}},{"Character":"Rem","HP":225,"HP Max":225,"Speed":17,"Attack Low":10,"Attack High":20,"Energy":0,"Summoned":false,"Items":{"Challenger Arrow":5}},{"Character":"Ram","HP":150,"HP Max":150,"Speed":17,"Attack Low":25,"Attack High":50,"Energy":0,"Summoned":false,"Items":{}}],[{"Character":"Megumin","HP":150,"HP Max":150,"Speed":18,"Attack Low":1,"Attack High":2,"Energy":40,"Summoned":false,"Items":{"Explosion Powder":7}},{"Character":"Aqua","HP":150,"HP Max":150,"Speed":25,"Attack Low":10,"Attack High":20,"Energy":0,"Summoned":false,"Items":{"Love Letter":6}},{"Character":"Darkness","HP":200,"HP Max":200,"Speed":15,"Attack Low":4,"Attack High":9,"Energy":0,"Summoned":false,"Items":{"Knight\'s Lance":5,"Magic Parasol":8,"Poison Dagger":1},"_stats":{"_triggeredBlock":28,"_availableBlocks":92,"_triggeredMagicParasol":62,"_defended":154}}]]')},function(e,t,a){var r={"./season_2/items/passive_items.json":6};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=o,e.exports=n,n.id=24},function(e,t,a){var r={"./season_2/items/energy_items.json":5};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=o,e.exports=n,n.id=25},function(e,t,a){var r={"./season_2/mobs/summon_templates.json":7};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=o,e.exports=n,n.id=26},,function(e,t,a){"use strict";a.r(t);var r=a(3),n=a.n(r),o=a(8),i=a.n(o),s={},c={},g={};function h(e){return e in c||(c[e]={Passive:a(24)("./season_"+e+"/items/passive_items.json"),Energy:a(25)("./season_"+e+"/items/energy_items.json")}),c[e]}var m=a(2),l=a(9),u=a(10),d=a(0);function k(e,t){if(!("_triggers"in e)){var a=h(t),r={};for(var n in e.Items){var o=e.Items[n];if(n in a.Energy){if("Energy"in r)throw Error("Could not add "+n+" to "+JSON.stringify(e)+": Already has an energy item.");r.Energy={},r.Energy[n]=o}else{var i=a.Passive[n].Triggers;for(var s in i){var c=i[s];if(c in r||(r[c]={}),n in r[c])throw Error("Could not add "+n+" to "+JSON.stringify(e)+": Already has item.");r[c][n]=o}}}return e._triggers=r,e}}var H=function(){function e(t,a,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(l.a)(this,e),this.verbose=n,this.season=r,this.initTeams(t,a)}return Object(u.a)(e,[{key:"getItems",value:function(){return"_items"in this||(this._items=h(this.season)),this._items}},{key:"getTemplates",value:function(){var e;return"_templates"in this||(this._templates=((e=this.season)in g||(g[e]=a(26)("./season_"+e+"/mobs/summon_templates.json")),g[e])),this._templates}},{key:"initTeams",value:function(e,t){for(var a in this.teams=[[],[]],this.allCharacters={},this.getTeamOf={},e)this.addCopyOfCharacterToTeam(e[a],0);for(var r in t)this.addCopyOfCharacterToTeam(t[r],1)}},{key:"addCopyOfCharacterToTeam",value:function(e,t){var a=d.b(e);k(a,this.season);for(var r=a.Character,n=r,o=1;r in this.allCharacters;)r=n+" "+ ++o;a.Character=r,this.getTeamOf[r]=t,this.allCharacters[r]=a,this.teams[t].push(a)}},{key:"getCharacterAndName",value:function(e){return"string"===typeof e?[this.allCharacters[e],e]:[e,e.Character]}},{key:"kill",value:function(e){var t=this.getCharacterAndName(e),a=Object(m.a)(t,2),r=(a[0],a[1]);d.d(this.verbose,"killing: "+r);var n=this.teams[this.getTeamOf[r]],o=function(e,t){for(var a in t)if(t[a].Character===e)return a;return-1}(r,n);if(o<0)throw Error("Internal Error: "+r+" is not in team "+n);delete this.allCharacters[r],delete this.getTeamOf[r],n.splice(o,1)}},{key:"changeHp",value:function(e,t){var a=this.getCharacterAndName(e),r=Object(m.a)(a,2),n=r[0],o=r[1],i=n.HP;n.HP+=t,d.d(this.verbose,o+" hp changed by "+t+": "+i+" -> "+n.HP)}},{key:"dealDamage",value:function(e,t,a){this.changeHp(e,-a)}},{key:"changeSpeed",value:function(e,t){var a=this.getCharacterAndName(e),r=Object(m.a)(a,2),n=r[0],o=r[1],i=n.Speed;n.Speed=Math.max(n.Speed+t,1),d.d(this.verbose,o+" speed changed by "+t+": "+i+" -> "+n.Speed)}},{key:"changeAttack",value:function(e,t){var a=this.getCharacterAndName(e),r=Object(m.a)(a,2),n=r[0],o=r[1],i=n["Attack Low"],s=n["Attack High"],c=Math.max(-i,t);n["Attack Low"]+=c,n["Attack High"]+=c,d.d(this.verbose,o+" attack changed by "+t+": "+[i,s]+" -> "+[n["Attack Low"],n["Attack High"]])}},{key:"changeEnergy",value:function(e,t){var a=this.getCharacterAndName(e),r=Object(m.a)(a,2),n=r[0],o=r[1],i=n.Energy;n.Energy=Math.max(n.Energy+t,0),d.d(this.verbose,o+" energy changed by "+t+": "+i+" -> "+n.Energy)}},{key:"checkAllHp",value:function(){for(var e in this.allCharacters){var t=this.allCharacters[e];t.HP<=0&&this.kill(e),t.HP>t["HP Max"]&&(t.HP=t["HP Max"])}}},{key:"triggerEnergy",value:function(e){var t=this.getCharacterAndName(e),a=Object(m.a)(t,2),r=a[0],n=a[1];if("Energy"in r._triggers){var o=Object.keys(r._triggers.Energy)[0],i=this.getItems().Energy[o].Cost;if(!(r.Energy<i)){r.Energy-=i;var s=r.Items[o];d.d(this.verbose,"Activating energy item "+o);var c=this.getTeamOf[n],g=this.teams[c],h=this.teams[1-c];switch(o){case"Avalanche":for(var l=0;l<2;l++){var u=h[d.e(h)];this.dealDamage(u,r,d.f(3*s,5*s)),this.changeSpeed(u.Character,-d.f(0,s))}break;case"Boosting Bugle":if(1===g.length)break;for(l=0;l<2;l++){var H=g[d.e(g,(function(e){return e.Summoned||e.Character===n?0:1}))];this.changeHp(H,s+s),this.changeAttack(H,s)}break;case"Challenger Arrow":var p=h[d.e(h)];this.dealDamage(p,r,10*s),this.changeAttack(r,s);break;case"Energetic Ally":var f=g.reduce((function(e,t){return Math.min(e,t.HP)}),1/0),y=g[d.e(g,(function(e){return e.HP===f?1:0}))];this.changeHp(y,5*s),this.changeEnergy(y,20);break;case"Explosion Powder":if(1==h.length){var S=h[Object.keys(h)[0]];this.dealDamage(S,r,d.f(10*s,20*s));break}for(var P in h){var A=h[P];this.dealDamage(A,r,d.f(5*s,10*s))}break;case"Imp Whistle":var b=this.getTemplates()[o],w=d.c(b,s);k(w,this.season),this.addCopyOfCharacterToTeam(w,c);break;case"Knight's Lance":var C=h[d.e(h)];if(r.HP===r["HP Max"]){this.dealDamage(C,r,d.f(10*s,14*s));break}var v=d.f(5*s,7*s);this.dealDamage(C,r,v),this.changeHp(r,v);break;default:throw Error("Energy item "+o+" unknown")}}}}},{key:"useItemAbility",value:function(e,t,a){switch(t){case"BattleStart":case"TurnStart":case"Target":case"Block":case"PreDamage":case"EnemyDamage":case"PostDamage":case"Death":break;default:throw Error("Phase "+t+" unknown")}}},{key:"triggerPassive",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e in t._triggers)for(var r in t._triggers)this.useItemAbility(r,e,t,a)}},{key:"tick",value:function(){var e=d.e(this.allCharacters,"Speed");d.d(this.verbose,"\n"+e+"'s turn:");var t=this.allCharacters[e],a=this.getTeamOf[e],r=this.teams[1-a];for(var n in function(e,t){if("Energy"in e)e.Energy+=t;else for(var a in e)e[a].Energy+=t}(this.allCharacters,2),this.triggerPassive("TurnStart",t),this.triggerEnergy(t),this.checkAllHp(),this.teams)if(this.teamHasLost(n))return;var o=r[d.e(r)].Character;d.d(this.verbose,"main target: "+o);var i=d.f(t["Attack Low"],t["Attack High"]);d.d(this.verbose,"main attack damage: "+i),this.dealDamage(o,t,i),this.checkAllHp()}},{key:"teamHasLost",value:function(e){return d.a(this.teams[e],(function(e){return e.HP<=0}))}},{key:"getTeam",value:function(e){return this.teams[e]}}]),e}();function p(){var e=function(e,t){e in s||(s[e]={});var r=s[e];if(!(t in r)){var n=a(15)("./season_"+e+"/mobs/dungeon_"+t+".json");for(var o in n){var i=n[o];for(var c in i){var g=i[c];"_stats"in g&&delete g._stats}}r[t]=n}return r[t]}(2,0);console.log(e);console.log("winning team: "+function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];d.d(r,"\n\n\nStarting dungeon");var n=e;for(var o in e)k(e[o],a);for(var i in t){d.d(r,"loading wave "+i);var s=t[i];for(var c in s)k(s[c],a);d.d(r,s);var g=new H(n,s,a,r);for(d.d(r,d.b(g));;){if(g.tick(),d.d(r,d.b(g)),g.teamHasLost(0))return 1;if(g.teamHasLost(1))break}n=g.getTeam(0)}return 0}([{Character:"Zethorix",HP:100,"HP Max":100,Speed:10,"Attack Low":0,"Attack High":0,Energy:1e3,Summoned:!1,Items:{Avalanche:1}},{Character:"Zethorix",HP:100,"HP Max":100,Speed:10,"Attack Low":0,"Attack High":0,Energy:1e3,Summoned:!1,Items:{"Boosting Bugle":1}},{Character:"Zethorix",HP:100,"HP Max":100,Speed:10,"Attack Low":0,"Attack High":0,Energy:1e3,Summoned:!1,Items:{"Challenger Arrow":1}},{Character:"Zethorix",HP:100,"HP Max":100,Speed:10,"Attack Low":0,"Attack High":0,Energy:1e3,Summoned:!1,Items:{"Energetic Ally":1}},{Character:"Zethorix",HP:100,"HP Max":100,Speed:10,"Attack Low":0,"Attack High":0,Energy:1e3,Summoned:!1,Items:{"Explosion Powder":1}},{Character:"Zethorix",HP:100,"HP Max":100,Speed:10,"Attack Low":0,"Attack High":0,Energy:1e3,Summoned:!1,Items:{"Imp Whistle":1}},{Character:"Zethorix",HP:100,"HP Max":100,Speed:10,"Attack Low":0,"Attack High":0,Energy:1e3,Summoned:!1,Items:{"Knight's Lance":1}}],e,2,!0))}var f=a(1);var y=function(){return Object(f.jsxs)("div",{children:["Hello World!",Object(f.jsx)("br",{}),Object(f.jsx)("button",{onClick:p,children:"Run Test"})]})};i.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(y,{})}),document.getElementById("root"))}],[[28,1,2]]]);
//# sourceMappingURL=main.b280327c.chunk.js.map